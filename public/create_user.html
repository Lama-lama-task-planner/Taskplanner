<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Document</title>
 <link rel= "stylesheet" href= "css/stylesheet.css">
 <link rel="shortcut icon" href="#">
</head>
<body>
    <div>

    
    <h1>Create User: </h1>
    <form id= "createUserForm">

        <label for="inpUsername">Email: </label> <!--Sett inn bildeboks istedenfor Email:-->
        <input id= "inpUsername" name= "username" type="text" placeholder= "username" value= "test">

        <label for="inpPsw">Password: </label><!--Sett inn bildeboks istedenfor Password:-->
        <input id= "inpPsw" name= "psw" type="password" placeholder= "Password" value= "aaa">

        <input type="submit" value= "Create Account"> <!--Legg til en "eller login" knapp med href til loginside-->

    </form>
        <p id= "tilbakeMelding"></p>

    </div>
<script>
    
    let url = "/users/"

    let createUserForm = document.getElementById('createUserForm');
    let tilbakeMelding = document.getElementById('tilbakeMelding');

    const createform = document.getElementById('createUserForm');

    createform.addEventListener("submit", async function (evt) {

        evt.preventDefault();

        const inpUsername = document.getElementById("inpUsername").value;
        const inpPsw = document.getElementById("inpPsw").value;


                let body = {
                    username: inpUsername,
                    password: inpPsw
                }
                let config = {
                    method: "POST",
                    headers: {
                        "content-type": "application/json"
                    },
                    body: JSON.stringify(body)
                }

                const response = await fetch("/user", config);
                const data = await response.json();
                


        


    });



</script>

</body>
</html>
